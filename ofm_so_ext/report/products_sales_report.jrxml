<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.8.0.final using JasperReports Library version 4.0.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="products_sales_report" language="groovy" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ofm_live_20191223"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="start_date" class="java.lang.String"/>
	<parameter name="end_date" class="java.lang.String"/>
	<parameter name="end_next_date" class="java.lang.String"/>
	<parameter name="company_id" class="java.lang.String"/>
	<parameter name="branch_id" class="java.lang.String"/>
	<queryString>
		<![CDATA[select *
from
			(
			select
				branch_id,
				company_id,
				print_date,
				print_time,
				company_logo,
				company_name,
				address_and_tax,
				date,
				product_id,
				barcode,
				product_name,
				product_type,
				default_code,
				sum(qty) as qty,
				sum(discount + free_disc) as discount,
				sum(amount + free_disc) as amount
			from
			(
			select
				pob.id as branch_id,
				so_data.company_id,
				(now() + interval '7 hour')::date as print_date,
				(now() + interval '7 hour')::time as print_time,
				com_logo.company_logo,
				rcn.name || ' ' ||
				case
					when pob.branch_id = '00000' then 'สำนักงานใหญ่'
					else 'สาขา' || pob.name || ' สาขาที่ ' || pob.branch_id
				end as company_name,
				coalesce(pob.street, '') || ' ' || coalesce(pob.moo || ' ', '') || coalesce(pob.alley || ' ', '') || coalesce(pob.street2, '')|| '<br>' || coalesce(case when pv.name like '%กรุงเทพ%' then 'แขวง' else 'ตำบล' end || tmb.name, '') || ' ' || coalesce(case when pv.name like '%กรุงเทพ%' then 'เขต' else 'อำเภอ' end || amp.name, '') || ' ' || coalesce(case when pv.name like '%กรุงเทพ%' then pv.name else ('จังหวัด' || pv.name) end, '') || ' ' || coalesce(zp.name, '') || ' โทร : ' || coalesce(pob.phone, '') || '<br>' || ' เลขประจำตัวผู้เสียภาษีอากร: ' || rpc.vat as address_and_tax,
				so_data.name,
				(so_data.date + interval '7 hours')::timestamp::date,
				product_id,
				pt.name as product_name,
				pt.type as product_type,
				pp.barcode as barcode,
				pt.default_code as default_code,
				case when payment_type is not null then qty else 0 end as qty,
				case when payment_type is not null then price_unit else 0 end as price_unit,
				case when payment_type is not null then discount else 0 end as discount,
				case when payment_type is not null and free_disc is not null then free_disc else 0 end as free_disc,
				case when payment_type is not null then amount else 0 end as amount,
				payment_type
			from
				(
				select
					'pos' as type,
					pod.name as name,
					pod.date_order as date,
					pol.product_id as product_id,
					pol.qty as qty,
					pol.price_unit as price_unit,
					case when pod.is_return_order = true or pod.is_void_order = true then pol.prorate_amount
					else pol.prorate_amount*(-1) end as discount,
					case when pol.promotion = false and pol.free_product_id notnull then (
						select price_subtotal_incl*(-1)
						from pos_order_line posl
						where posl.free_product_id = pol.product_id and pod.id = posl.order_id
					) when pol.promotion = true then pol.price_subtotal_incl*(-1) end as free_disc,
					pol.price_subtotal_incl as amount,
					poc.company_id,
					poc.branch_id,
					'-' as payment_type
				from
					pos_order pod
				left join pos_order_line pol on
					pol.order_id = pod.id
				inner join pos_session pos on
					pod.session_id = pos.id
				inner join pos_config poc on
					poc.id = pos.config_id
				where
					pod.state not in ('draft',
					'cancel')
			union
				select
					'dep' as type,
					so.name as session_no_and_so,
					dep.date as date,
					sol.product_id as product_id,
					sol.product_uom_qty as qty,
					sol.price_unit as price_unit,
					case when sol.prorate_amount != 0 then sol.prorate_amount*(-1)
						else sol.prorate_amount
					end as discount,
					case when sol.promotion = false and sol.free_product_id notnull  then (
						select price_total*(-1)
						from sale_order_line depl
						where depl.free_product_id = sol.product_id and so.id = depl.order_id
					) when sol.promotion = true then (sol.price_total - sol.prorate_amount)*(-1) end as free_disc,
					sol.price_total - sol.prorate_amount as amount,
					so.company_id,
					so.branch_id,
					so.sale_payment_type as payment_type
				from
					account_deposit dep
				inner join sale_order so on
					so.id = dep.sale_id
					and so.sale_payment_type in ('deposit')
				inner join (select id,
									so_id
							from account_invoice
							where type = 'out_invoice'
							) aiv on aiv.so_id = so.id 
				inner join sale_order_line sol on
					sol.order_id = so.id
				where
					dep.state in ('open',
					'paid')
			union
				select
					'inv' as type,
					so.name as session_no_and_so,
					inv.date_invoice as date,
					inv_l.product_id as product_id,
					inv_l.quantity as qty,
					inv_l.price_unit as price_unit,
					case
						when inv_l.prorate_amount != 0 then inv_l.prorate_amount*(-1)
						else inv_l.prorate_amount
					end as discount,
					case when inv_l.promotion = false and inv_l.free_product_id notnull then (
						select amount_subtotal*(-1)
						from account_invoice_line invl
						where invl.free_product_id = inv_l.product_id
						and inv.id = invl.invoice_id
					) when inv_l.promotion = true then (inv_l.amount_subtotal - inv_l.prorate_amount)*(-1) end as free_disc,
					inv_l.amount_subtotal - inv_l.prorate_amount as amount,
					so.company_id,
					so.branch_id,
					so.sale_payment_type as payment_type
				from
					account_invoice inv
				inner join sale_order so on
					so.id = inv.so_id
					and so.sale_payment_type not in ('deposit')
				inner join account_invoice_line inv_l on
					inv.id = inv_l.invoice_id
				inner join sale_order_line sol on
					sol.order_id = so.id
				where
					inv.state in ('open',
					'paid')
					and inv.type = 'out_invoice'
			union
				select
					'cn' as type,
					so.name as session_no_and_so,
					cn.date_invoice as date,
					cn_l.product_id as product_id,
					cn_l.quantity*(-1) as qty,
					cn_l.price_unit*(-1) as price_unit,
					cn_l.prorate_amount as discount,
					case when cn_l.promotion = false and cn_l.free_product_id notnull then (
						select amount_subtotal*(-1)
						from account_invoice_line l
						where l.free_product_id = cn_l.product_id and cn.id = l.invoice_id
					) when cn_l.promotion = true then ((cn_l.amount_subtotal - cn_l.prorate_amount)*(-1))*(-1) end as free_disc,
					(cn_l.amount_subtotal - cn_l.prorate_amount)*(-1) as amount,
					so.company_id,
					so.branch_id,
					so.sale_payment_type as payment_type
				from
					account_invoice cn
				inner join sale_order so on
					so.id = cn.so_id
				inner join account_invoice_line cn_l on
					cn.id = cn_l.invoice_id
				inner join sale_order_line sol on
					sol.order_id = so.id
				where
					cn.state in ('open',
					'paid')
					and cn.type = 'out_refund' ) so_data
			inner join product_product pp on
				so_data.product_id = pp.id
			inner join product_template pt on
				pp.product_tmpl_id = pt.id
			inner join (
				select
					*
				from
					pos_branch /* Parameter branch_id*/
				where
					id = $P{branch_id}::integer
					or coalesce($P{branch_id}, '') = '' ) pob on
				pob.id = so_data.branch_id
			inner join (
				select
					*
				from
					res_company /* Parameter company_id*/
				where
					id = $P{company_id}::integer
					or coalesce($P{company_id}, '') = '' ) rcn on
				rcn.id = pob.pos_company_id
			left join res_partner rpc on
				rcn.partner_id = rpc.id
			inner join province pv on
				pob.province_id = pv.id
			inner join amphur amp on
				pob.amphur_id = amp.id
			inner join tambon tmb on
				pob.tambon_id = tmb.id
			inner join zip zp on
				pob.zip_id = zp.id
			cross join (
				select
					value || '/web/binary/company_logo?dbname=' || current_database() as company_logo
				from
					ir_config_parameter
				where
					key = 'report.image.url') com_logo
			where
				(so_data.branch_id = $P{branch_id}::integer /* Parameter branch_id*/
				or coalesce($P{branch_id}, '') = '' )
				and (so_data.date + interval '7 hours') >= $P{start_date}::date
				and (so_data.date + interval '7 hours') < $P{end_next_date}::date
				and (pt.type = 'product'
				or (pt.type = 'service'
				and pt.default_code ilike 'KE%'))
			order by
				so_data.branch_id,
				so_data.date ) pos_so_all
			group by
			branch_id,
			company_id,
			print_date,
			print_time,
			company_logo,
			company_name,
			address_and_tax,
			date,
			product_id,
			barcode,
			product_name,
			product_type,
			default_code ) data_all
			where
			qty != 0]]>
	</queryString>
	<field name="branch_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="branch_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="pos_branch"/>
		<fieldDescription><![CDATA[Branch]]></fieldDescription>
	</field>
	<field name="company_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="company_id"/>
	</field>
	<field name="print_date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.label" value="print_date"/>
	</field>
	<field name="print_time" class="java.sql.Time">
		<property name="com.jaspersoft.studio.field.label" value="print_time"/>
		<fieldDescription><![CDATA[Print time]]></fieldDescription>
	</field>
	<field name="company_logo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="company_logo"/>
	</field>
	<field name="company_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="company_name"/>
		<fieldDescription><![CDATA[Company Name]]></fieldDescription>
	</field>
	<field name="address_and_tax" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="address_and_tax"/>
	</field>
	<field name="date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.label" value="date"/>
	</field>
	<field name="product_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="product_id"/>
	</field>
	<field name="barcode" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="barcode"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product_product"/>
	</field>
	<field name="product_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="product_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product_template"/>
	</field>
	<field name="product_type" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="product_type"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product_template"/>
	</field>
	<field name="default_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="default_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product_template"/>
	</field>
	<field name="qty" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="qty"/>
	</field>
	<field name="discount" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.label" value="discount"/>
	</field>
	<field name="amount" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.label" value="amount"/>
	</field>
	<variable name="date_start" class="java.util.Date" resetType="Page">
		<initialValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").parse($P{start_date})]]></initialValueExpression>
	</variable>
	<variable name="date_end" class="java.util.Date" resetType="Page">
		<initialValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").parse($P{end_date})]]></initialValueExpression>
	</variable>
	<variable name="countline" class="java.lang.Integer" resetType="Group" resetGroup="group_branch" calculation="Count">
		<variableExpression><![CDATA[$V{COLUMN_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="sum_amount" class="java.math.BigDecimal" resetType="Group" resetGroup="group_branch" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="sum_discount" class="java.math.BigDecimal" resetType="Group" resetGroup="group_branch" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="sum_qty" class="java.math.BigDecimal" resetType="Group" resetGroup="group_branch" calculation="Sum">
		<variableExpression><![CDATA[$F{qty}]]></variableExpression>
	</variable>
	<variable name="grand_sum_amount" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{amount}]]></variableExpression>
	</variable>
	<variable name="grand_sum_discount" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{discount}]]></variableExpression>
	</variable>
	<variable name="grand_sum_qty" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{qty}]]></variableExpression>
	</variable>
	<group name="group_branch" isStartNewPage="true">
		<groupExpression><![CDATA[$F{branch_id}]]></groupExpression>
		<groupHeader>
			<band height="138">
				<textField isStretchWithOverflow="true" evaluationTime="Group" evaluationGroup="group_branch">
					<reportElement positionType="Float" mode="Transparent" x="0" y="0" width="555" height="17" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{company_name}]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="group_branch">
					<reportElement positionType="Float" mode="Transparent" x="97" y="17" width="345" height="41" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="html">
						<font fontName="TH SarabunPSK" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{address_and_tax}]]></textFieldExpression>
				</textField>
				<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
					<reportElement positionType="Float" mode="Transparent" x="469" y="30" width="51" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{print_date}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement positionType="Float" mode="Transparent" x="442" y="30" width="27" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[พิมพ์ :]]></text>
				</staticText>
				<textField pattern="dd/MM/yyyy" isBlankWhenNull="false">
					<reportElement positionType="Float" mode="Transparent" x="471" y="44" width="39" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}+" OF "]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Report" pattern="dd/MM/yyyy" isBlankWhenNull="false">
					<reportElement positionType="Float" mode="Transparent" x="510" y="44" width="45" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement positionType="Float" mode="Transparent" x="442" y="44" width="29" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[หน้า :]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="Float" mode="Transparent" x="0" y="58" width="555" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="16" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[รายงานยอดขายสินค้า]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" mode="Transparent" x="0" y="78" width="555" height="17" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="14" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Selection From: "+new SimpleDateFormat("dd/MM/yyyy").format($V{date_start}) + " - " +new SimpleDateFormat("dd/MM/yyyy").format($V{date_end})]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="101" width="555" height="1"/>
					<graphicElement>
						<pen lineWidth="1.0"/>
					</graphicElement>
				</line>
				<image>
					<reportElement x="0" y="17" width="97" height="41"/>
					<imageExpression class="java.lang.String"><![CDATA[$F{company_logo}]]></imageExpression>
				</image>
				<textField pattern="HH:mm" isBlankWhenNull="false">
					<reportElement positionType="Float" mode="Transparent" x="520" y="30" width="35" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{print_time}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Transparent" x="6" y="108" width="33" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ ลำดับ]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="39" y="108" width="51" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[วันที่/เดือน/ปี]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="389" y="108" width="41" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[จำนวน]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="95" width="555" height="6"/>
					<textElement lineSpacing="Single"/>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="102" width="555" height="6"/>
					<textElement lineSpacing="Single"/>
					<text><![CDATA[]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="90" y="108" width="63" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[Barcode]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="193" y="108" width="196" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[รายละเอียดสินค้า]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="430" y="108" width="41" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ส่วนลด]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="471" y="108" width="78" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ยอดสุทธิ]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="153" y="108" width="40" height="25" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box rightPadding="2">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[PID]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<staticText>
					<reportElement mode="Transparent" x="6" y="1" width="383" height="14" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ยอดรวมทั้งสิ้น]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="15" width="555" height="1"/>
					<graphicElement>
						<pen lineWidth="1.0"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="6" y="0" width="549" height="1" forecolor="#999999">
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
				</line>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="389" y="1" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box rightPadding="1"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_qty}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="430" y="1" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box rightPadding="1"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_discount}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="471" y="1" width="78" height="14" forecolor="#000000" backcolor="#FFFFFF">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box rightPadding="1"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<detail>
		<band height="19" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="39" y="0" width="51" height="14"/>
				<textElement textAlignment="Center" lineSpacing="Single">
					<font fontName="TH SarabunPSK" size="12" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0" isBlankWhenNull="true">
				<reportElement x="6" y="0" width="33" height="14"/>
				<textElement textAlignment="Center" lineSpacing="Single">
					<font fontName="TH SarabunPSK" size="12" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{countline}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="389" y="0" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box rightPadding="1"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="90" y="0" width="63" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{barcode}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="430" y="0" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box rightPadding="1"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{discount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="471" y="0" width="78" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box rightPadding="1"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{amount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="193" y="0" width="196" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5"/>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="153" y="0" width="40" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5"/>
				<textElement verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{default_code}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="15">
			<staticText>
				<reportElement x="0" y="0" width="391" height="15" forecolor="#000000"/>
				<textElement lineSpacing="Single">
					<font fontName="TH SarabunPSK" size="10"/>
				</textElement>
				<text><![CDATA[*** Value of Normal sale Gift Voucher Item not include in this report ***]]></text>
			</staticText>
			<staticText>
				<reportElement x="391" y="0" width="164" height="15"/>
				<textElement textAlignment="Right" lineSpacing="Single">
					<font fontName="TH SarabunPSK" size="10"/>
				</textElement>
				<text><![CDATA[จำนวนเงินทั้งหมดเป็นสกุลเงินบาท THB]]></text>
			</staticText>
		</band>
	</pageFooter>
	<summary>
		<band height="56">
			<staticText>
				<reportElement mode="Transparent" x="0" y="21" width="555" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[*** End of Report ***]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="15" width="555" height="6"/>
				<textElement lineSpacing="Single"/>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Transparent" x="6" y="0" width="383" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ยอดรวมทุกสาขา]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="14" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="1.0"/>
				</graphicElement>
			</line>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="389" y="0" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{grand_sum_qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="430" y="0" width="41" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{grand_sum_discount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="471" y="0" width="78" height="14" forecolor="#000000" backcolor="#FFFFFF">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{grand_sum_amount}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
	<noData>
		<band height="20">
			<staticText>
				<reportElement x="0" y="0" width="555" height="20"/>
				<textElement textAlignment="Center" lineSpacing="Single">
					<font fontName="TH SarabunPSK" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[No Data]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
