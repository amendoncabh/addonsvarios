<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="payment_type_by_bill_report" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="date_start" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="date_stop" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="branch_start" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="branch_stop" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
*
,round(((sum_amount_payable*100)/107),2) as before_vat
,round((sum_amount_payable - ((sum_amount_payable*100)/107)),2) as vat
,TO_CHAR(date($P{date_start}), 'DD/MM/YYYY') as date_start
,TO_CHAR(date($P{date_stop}), 'DD/MM/YYYY') as date_stop
,(now()+interval '7 hour')::date as print_date
,(now()+interval '7 hour')::time as print_time
,(SELECT name FROM pos_branch where sequence = $P{branch_start}::int) as branch_start
,(SELECT name FROM pos_branch where sequence = $P{branch_stop}::int) as branch_stop
,(SELECT to_char(to_number(branch_id, '99999'), '00000') FROM pos_branch where sequence = $P{branch_start}::int limit 1) as branch_no_start
,(SELECT to_char(to_number(branch_id, '99999'), '00000') FROM pos_branch where sequence = $P{branch_stop}::int limit 1) as branch_no_stop
FROM
(
	SELECT
	rposc.company_name,
	rposc.id as company_id,
	pob.name as branch_name,
	pob.sequence as branch_seq,
	(poso.date_order + interval '7 hour')::date as pos_order_date,
	aj.name as journal_name,
	(poso.date_order + interval '7 hour')::time as pos_order_time,
	poso.inv_no,
	pcbr.name as cashier_no,
	round(coalesce((
		SELECT sum((posol1.price_unit * posol1.qty)-(posol1.discount_amount*posol1.qty))
		FROM pos_order_line posol1
		LEFT JOIN pos_order poso1 on poso1.id = posol1.order_id
		where poso1.id = poso.id AND poso1.is_return_order <> true
		AND posol1.price_unit > 0
		),0),2) as amount_total,
	round(sum(absl.amount),2) as sum_amount_payable,
	round((
		coalesce((
			SELECT sum(posol1.discount_amount*posol1.qty)
			FROM pos_order_line posol1
			LEFT JOIN pos_order poso1 on poso1.id = posol1.order_id
			where poso1.id = poso.id
			),0)+
		coalesce((
			SELECT abs(sum(posol1.price_unit))
			FROM pos_order_line posol1
			LEFT JOIN pos_order poso1 on poso1.id = posol1.order_id
			where poso1.id = poso.id AND posol1.price_unit < 0 AND poso1.is_return_order <> true
			AND
			(posol1.product_id in ( SELECT promotion_discount_product_id
				FROM pos_config GROUP BY promotion_discount_product_id) or
			posol1.product_id in ( SELECT vip_discount_product_id
				FROM pos_config GROUP BY vip_discount_product_id))
			),0)
		),2) as sum_amount_discount
	FROM account_bank_statement_line absl
	inner join pos_order poso on poso.id = absl.pos_statement_id
	LEFT JOIN account_bank_statement abs on abs.id = absl.statement_id
	LEFT JOIN account_journal aj on aj.id = abs.journal_id
	LEFT JOIN pos_session poss on poss.id = poso.session_id
	LEFT JOIN pos_cash_box_reason pcbr on pcbr.id = poss.reason_id
	LEFT JOIN pos_config poc on poc.id = poss.config_id
	LEFT JOIN pos_branch pob on pob.id = poc.branch_id
	LEFT JOIN res_company posc on posc.id = pob.pos_company_id
	LEFT JOIN res_partner rposc on rposc.id = posc.partner_id
	where
	date(poso.date_order + interval '7 hour') between $P{date_start}::date AND $P{date_stop}::date
	AND pob.sequence between $P{branch_start}::int AND $P{branch_stop}::int
	AND refund_user_id IS NULL
	GROUP BY rposc.id,pob.id,aj.id,poso.id,poss.id,pcbr.id
	ORDER BY pob.sequence,pob.branch_id,aj.id,poso.id
	) table_payable_type
ORDER BY company_id,branch_seq,journal_name,inv_no,cashier_no]]>
	</queryString>
	<field name="company_name" class="java.lang.String">
		<fieldDescription><![CDATA[Company Name]]></fieldDescription>
	</field>
	<field name="company_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[Company]]></fieldDescription>
	</field>
	<field name="branch_name" class="java.lang.String">
		<fieldDescription><![CDATA[Branch Name]]></fieldDescription>
	</field>
	<field name="branch_seq" class="java.lang.Integer"/>
	<field name="pos_order_date" class="java.sql.Date"/>
	<field name="journal_name" class="java.lang.String"/>
	<field name="pos_order_time" class="java.sql.Time"/>
	<field name="inv_no" class="java.lang.String">
		<fieldDescription><![CDATA[Invoice No]]></fieldDescription>
	</field>
	<field name="cashier_no" class="java.lang.String"/>
	<field name="amount_total" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[Amount Total]]></fieldDescription>
	</field>
	<field name="sum_amount_payable" class="java.math.BigDecimal"/>
	<field name="sum_amount_discount" class="java.math.BigDecimal"/>
	<field name="before_vat" class="java.math.BigDecimal"/>
	<field name="vat" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[TIN]]></fieldDescription>
	</field>
	<field name="date_start" class="java.lang.String">
		<fieldDescription><![CDATA[Date From]]></fieldDescription>
	</field>
	<field name="date_stop" class="java.lang.String"/>
	<field name="print_date" class="java.sql.Date"/>
	<field name="print_time" class="java.sql.Time"/>
	<field name="branch_start" class="java.lang.String"/>
	<field name="branch_stop" class="java.lang.String"/>
	<field name="branch_no_start" class="java.lang.String"/>
	<field name="branch_no_stop" class="java.lang.String"/>
	<variable name="amount_total_1" class="java.math.BigDecimal" resetType="Group" resetGroup="group_journal_name" calculation="Sum">
		<variableExpression><![CDATA[$F{amount_total}]]></variableExpression>
	</variable>
	<variable name="sum_amount_payable_1" class="java.math.BigDecimal" resetType="Group" resetGroup="group_journal_name" calculation="Sum">
		<variableExpression><![CDATA[$F{sum_amount_payable}]]></variableExpression>
	</variable>
	<variable name="sum_amount_discount_1" class="java.math.BigDecimal" resetType="Group" resetGroup="group_journal_name" calculation="Sum">
		<variableExpression><![CDATA[$F{sum_amount_discount}]]></variableExpression>
	</variable>
	<variable name="before_vat_1" class="java.math.BigDecimal" resetType="Group" resetGroup="group_journal_name" calculation="Sum">
		<variableExpression><![CDATA[$F{before_vat}]]></variableExpression>
	</variable>
	<variable name="vat_1" class="java.math.BigDecimal" resetType="Group" resetGroup="group_journal_name" calculation="Sum">
		<variableExpression><![CDATA[$F{vat}]]></variableExpression>
	</variable>
	<variable name="amount_total_2" class="java.math.BigDecimal" resetType="Group" resetGroup="group_pos_date" calculation="Sum">
		<variableExpression><![CDATA[$F{amount_total}]]></variableExpression>
	</variable>
	<variable name="sum_amount_payable_2" class="java.math.BigDecimal" resetType="Group" resetGroup="group_pos_date" calculation="Sum">
		<variableExpression><![CDATA[$F{sum_amount_payable}]]></variableExpression>
	</variable>
	<variable name="sum_amount_discount_2" class="java.math.BigDecimal" resetType="Group" resetGroup="group_pos_date" calculation="Sum">
		<variableExpression><![CDATA[$F{sum_amount_discount}]]></variableExpression>
	</variable>
	<variable name="before_vat_2" class="java.math.BigDecimal" resetType="Group" resetGroup="group_pos_date" calculation="Sum">
		<variableExpression><![CDATA[$F{before_vat}]]></variableExpression>
	</variable>
	<variable name="vat_2" class="java.math.BigDecimal" resetType="Group" resetGroup="group_pos_date" calculation="Sum">
		<variableExpression><![CDATA[$F{vat}]]></variableExpression>
	</variable>
	<group name="company_group" isStartNewPage="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{company_id}]]></groupExpression>
		<groupHeader>
			<band height="89">
				<textField isBlankWhenNull="true">
					<reportElement x="0" y="21" width="555" height="17"/>
					<textElement textAlignment="Center" lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="14" isBold="true" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[($P{branch_start} == $P{branch_stop}) ? (
    "สาขาที่"+
    " "+
    $F{branch_no_start}+
    " "+
    $F{branch_start}
):
(
    "สาขาที่"+
    " "+
    $F{branch_no_start}+
    " "+
    $F{branch_start}+
    " "+
    " - "+
    "สาขาที่"+
    " "+
    $F{branch_no_stop}+
    " "+
    $F{branch_stop}
)]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="38" width="555" height="32"/>
					<textElement textAlignment="Center" lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="14" isBold="true" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<text><![CDATA[รายงานประเภทการชำระเงินตามบิล
Payment Type By Bill Report]]></text>
				</staticText>
				<textField pattern="" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="0" y="70" width="555" height="19" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{date_start} + " - " + $F{date_stop}]]></textFieldExpression>
				</textField>
				<textField pattern="" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="0" y="0" width="555" height="21" printWhenGroupChanges="company_group" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun Bold.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{company_name}]]></textFieldExpression>
				</textField>
				<textField pattern="HH:mm:ss" isBlankWhenNull="true">
					<reportElement x="495" y="21" width="60" height="17"/>
					<textElement lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="11" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<textFieldExpression class="java.util.Date"><![CDATA[$F{print_time}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="440" y="21" width="55" height="17"/>
					<textElement lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="11" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<text><![CDATA[เวลาที่พิมพ์:   ]]></text>
				</staticText>
				<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
					<reportElement x="495" y="0" width="60" height="21"/>
					<textElement verticalAlignment="Middle" lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="11" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<textFieldExpression class="java.util.Date"><![CDATA[$F{print_date}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="440" y="0" width="55" height="21"/>
					<textElement verticalAlignment="Middle" lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="11" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<text><![CDATA[วันที่พิมพ์:    ]]></text>
				</staticText>
				<textField pattern="HH:mm:ss" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="495" y="38" width="15" height="32" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}+" /"]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="440" y="38" width="55" height="32"/>
					<textElement lineSpacing="Single">
						<font fontName="TH SarabunPSK" size="11" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H"/>
					</textElement>
					<text><![CDATA[หน้า]]></text>
				</staticText>
				<textField evaluationTime="Report" pattern="HH:mm:ss" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="510" y="38" width="45" height="32" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="group_branch_name" isStartNewPage="true" isReprintHeaderOnEachPage="true" footerPosition="StackAtBottom">
		<groupExpression><![CDATA[$F{branch_name}]]></groupExpression>
		<groupHeader>
			<band height="32">
				<textField>
					<reportElement mode="Transparent" x="0" y="0" width="220" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{branch_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Transparent" x="0" y="16" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[เลขที่สลิป]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="90" y="16" width="70" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[เวลา]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="160" y="16" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[กะที่]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="220" y="16" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[มูลค่าชำระ]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="275" y="16" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[มูลค่าขาย]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="330" y="16" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ส่วนลด]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="385" y="16" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ยอดคิดภาษี]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="440" y="16" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ภาษี]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Transparent" x="495" y="16" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="1.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="1.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ยอดรวมทั้งสิ้น]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="group_pos_date">
		<groupExpression><![CDATA[$F{pos_order_date}]]></groupExpression>
		<groupHeader>
			<band height="16">
				<textField pattern="dd/MM/yyyy">
					<reportElement mode="Transparent" x="90" y="0" width="70" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.util.Date"><![CDATA[$F{pos_order_date}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Transparent" x="0" y="0" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[วัน/เดือน/ปี : ]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17">
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="385" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{before_vat_2}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="495" y="0" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_payable_2}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="440" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{vat_2}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="275" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{amount_total_2}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="16" width="555" height="1"/>
					<graphicElement>
						<pen lineStyle="Double"/>
					</graphicElement>
				</line>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="330" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_discount_2}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="220" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_payable_2}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Transparent" x="0" y="0" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="0.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="0.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ยอดรวมทั้งหมด]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<group name="group_journal_name">
		<groupExpression><![CDATA[$F{journal_name}]]></groupExpression>
		<groupHeader>
			<band height="16">
				<textField>
					<reportElement mode="Transparent" x="0" y="0" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{journal_name}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17">
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="220" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_payable_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="440" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{vat_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="330" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_discount_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="275" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{amount_total_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="385" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{before_vat_1}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="16" width="555" height="1"/>
					<graphicElement>
						<pen lineStyle="Double"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement mode="Transparent" x="0" y="0" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<box>
						<pen lineStyle="Double"/>
						<topPen lineWidth="0.0" lineStyle="Double"/>
						<leftPen lineStyle="Double"/>
						<bottomPen lineWidth="0.0" lineStyle="Double"/>
						<rightPen lineStyle="Double"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ยอดรวม]]></text>
				</staticText>
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement mode="Transparent" x="495" y="0" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
						<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{sum_amount_payable_1}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="0" width="555" height="1"/>
					<graphicElement>
						<pen lineStyle="Double"/>
					</graphicElement>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="16" splitType="Stretch">
			<textField pattern="HH.mm">
				<reportElement mode="Transparent" x="90" y="0" width="70" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.sql.Time"><![CDATA[$F{pos_order_time}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Transparent" x="0" y="0" width="90" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{inv_no}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Transparent" x="160" y="0" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{cashier_no}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="275" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{amount_total}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="220" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{sum_amount_payable}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="330" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{sum_amount_discount}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="385" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{before_vat}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="440" y="0" width="55" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{vat}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement mode="Transparent" x="495" y="0" width="60" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="TH SarabunPSK" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="/usr/share/fonts/truetype/THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{sum_amount_payable}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
